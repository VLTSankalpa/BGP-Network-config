hostname XR9
logging console notifications
domain lookup disable
line console
 exec-timeout 0 0
!
interface Loopback0
 ipv4 address 9.9.9.1 255.255.255.0
!
interface MgmtEth0/0/CPU0/0
 shutdown
!
interface GigabitEthernet0/0/0/0
 ipv4 address 10.7.9.9 255.255.255.0
 no shut
!
interface GigabitEthernet0/0/0/1
 ipv4 address 10.8.9.9 255.255.255.0
 no shut
!
interface GigabitEthernet0/0/0/2
 ipv4 address 10.9.21.9 255.255.255.0
 no shut
!
route-policy NLRI_advertise
  pass
end-policy
!
router isis 1
 is-type level-2-only
 net 01.0000.0000.0009.00
 log adjacency changes
 interface Loopback0
  passive
  address-family ipv4 unicast
  !
 !
 interface GigabitEthernet0/0/0/0
  address-family ipv4 unicast
  !
 !
 interface GigabitEthernet0/0/0/1
  address-family ipv4 unicast
  !
 !
!
router bgp 123
 bgp router-id 9.9.9.1
 bgp log neighbor changes detail
 address-family ipv4 unicast
 !
 af-group IBGP_NON_RR address-family ipv4 unicast
  next-hop-self
 !
 af-group EBGP_NON_RR address-family ipv4 unicast
  send-community-ebgp
  next-hop-self
  as-override
  route-policy NLRI_advertise in
  route-policy NLRI_advertise out
 !
 session-group IBGP
  remote-as 123
  update-source Loopback0
 !
 session-group EBGP
  remote-as 100
 !
 neighbor 7.7.7.1
  use session-group IBGP
  address-family ipv4 unicast
   use af-group IBGP_NON_RR 
  !
 !
 neighbor 10.9.21.21
  use session-group EBGP
  address-family ipv4 unicast
   use af-group EBGP_NON_RR 
  !
 !
!
end