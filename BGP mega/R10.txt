hostname XR10
logging console notifications
domain lookup disable
line console
 exec-timeout 0 0
!
interface Loopback0
 ipv4 address 10.10.10.1 255.255.255.0
!
interface MgmtEth0/0/CPU0/0
 shutdown
!
interface GigabitEthernet0/0/0/0
 ipv4 address 10.10.12.10 255.255.255.0
 no shut
!
interface GigabitEthernet0/0/0/1
 ipv4 address 10.10.11.10 255.255.255.0
 no shut
!
interface GigabitEthernet0/0/0/2
 ipv4 address 10.10.21.10 255.255.255.0
 no shut
!
interface GigabitEthernet0/0/0/3
 ipv4 address 10.7.10.10 255.255.255.0
 no shut
!
router isis 1
 is-type level-2-only
 net 01.0000.0000.0010.00
 log adjacency changes
 interface Loopback0
  passive
  address-family ipv4 unicast
  !
 !
 interface GigabitEthernet0/0/0/0
  address-family ipv4 unicast
  !
 !
 interface GigabitEthernet0/0/0/1
  address-family ipv4 unicast
  !
 !
 interface GigabitEthernet0/0/0/3
  address-family ipv4 unicast
  !
 !
!
router bgp 123
 bgp router-id 10.10.10.1
 bgp cluster-id 3
 bgp log neighbor changes detail
 address-family ipv4 unicast
 !
 af-group IBGP_RR address-family ipv4 unicast
  route-reflector-client
  next-hop-self
 !
 af-group EBGP_NON_RR address-family ipv4 unicast
  send-community-ebgp
  next-hop-self
 !
 session-group EBGP
  remote-as 100
 !
 session-group IBGP
  remote-as 123
  update-source Loopback0
 !
 neighbor 7.7.7.1
  use session-group IBGP
  address-family ipv4 unicast
   use af-group IBGP_RR
  !
 !
 neighbor 11.11.11.1
  use session-group IBGP
  address-family ipv4 unicast
   use af-group IBGP_RR
  !
 !
 neighbor 12.12.12.1
  use session-group IBGP
  address-family ipv4 unicast
   use af-group IBGP_RR
  !
 !
 neighbor 10.10.21.21
  use session-group EBGP
  address-family ipv4 unicast
   use af-group EBGP_NON_RR
  !
 !
!
end